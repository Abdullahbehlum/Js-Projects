<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E-comerce App</title>
    <link rel="stylesheet" href="./Register.css" />
  </head>
  <body>
    <div class="form-wrap">
      <h1>Register</h1>
      <form action="../login.html" onsubmit=" return  HandleSubmit()">
        <div class="input-col">
          <p>Name</p>
          <input
            type="text"
            id="Name"
            onkeyup="HandleName()"
            placeholder="Enter your Name"
            autocomplete="off"
          />
          <div id="name-error" style="color: red"></div>
        </div>
        <div class="input-col">
          <p>Email</p>
          <input
            type="text "
            id="Email"
            onkeyup="HandleEmail()"
            autocomplete="off"
            placeholder="Enter your Email"
          />
          <div id="email-error" style="color: red"></div>
        </div>
        <div class="input-col">
          <p>Password</p>
          <input
            type="text"
            id="Password"
            autocomplete="off"
            onkeyup="HandlePassword()"
            placeholder="Enter your Password"
          />
          <div id="password-error" style="color: red"></div>
        </div>
        <div style="margin-bottom: 10px;">
          <span>Are your login <a href="./login.html">Login</a></span>
        </div>
        <div>
          <input type="submit" class="R_submit" value="Register" />
        </div>
      </form>
    </div>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script>
      const Name = document.getElementById("Name");
      const Email = document.getElementById("Email");
      const Password = document.getElementById("Password");
      const PasswordError = document.getElementById("password-error");
      const NameError = document.getElementById("name-error");
      const EmailError = document.getElementById("email-error");
      const EmailRegx = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
      function HandleSubmit() {
        if (Name.value === "" || Email.value === "" || Password.value === "") {
          Name.style.border = "1px solid red";
          Email.style.border = "1px solid red";
          Password.style.border = "1px solid red";
          swal("error", "input is required", "error");
          return false;
        } else {
          Name.style.border = "1px solid orange";
          Email.style.border = "1px solid orange";
          Password.style.border = "1px solid orange";
          swal("success", "Register and successfully", "success");
          return true;
        }
        return true;
      }
      function HandleName() {
        if (Name.value.length <= 5) {
          NameError.innerText = "Name must be at least 5 characters";
        } else {
          NameError.innerText = "";
        }
      }
      function HandleEmail() {
        if (Email.value.length <= 8) {
          EmailError.innerText =
            "Email must be at least 8 characters Number symbols.";
        } else if (Email.value.match(EmailRegx)) {
          EmailError.innerText = "";
          console.log(EmailRegx.test(Email.value));
          return true;
        } else {
          EmailError.innerText = "Invalid email address";
          return false;
        }
      }
      function HandlePassword() {
        if (Password.value.length <= 10) {
          PasswordError.innerText =
            "Password must be at least 10 characters long";
          console.log("Hi");
        } else {
          PasswordError.innerText = "";
        }
      }
    </script>
  </body>
</html>
